(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{37:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),r=n.n(i),o=n(26),c=n.n(o),s=(n(37),n(14)),u=n(4),l=n(5),g=n(7),h=n(6),d=n(27),p=n.n(d),m=n(11),f=n.n(m);f.a.defaults.baseURL="https://pixabay.com/api";var b=function(){function e(){Object(u.a)(this,e),this._page=1,this._query="",this._perPage=18,this._lastPage=null}return Object(l.a)(e,[{key:"setLastPage",value:function(e){this._lastPage=Math.ceil(e/this._perPage)}},{key:"getImages",value:function(){var e=this,t="?key=".concat("18874263-8f02838ab97d9dd90f7110125","&q=").concat(encodeURIComponent(this._query),"&page=").concat(this._page,"&per_page=").concat(this._perPage,"&image_type=photo&orientation=horizontal");return f.a.get(t).then((function(t){var n=t.data,a=n.total,i=n.hits;return e.setLastPage(a),e._page++,i.map((function(e){var t=e.id;return{id:t+="",tags:e.tags,largeImageURL:e.largeImageURL,webformatURL:e.webformatURL}}))}))}},{key:"resetPages",value:function(){this._page=1}},{key:"query",set:function(e){this._query=e}},{key:"perPage",set:function(e){this._perPage=e}},{key:"page",set:function(e){this._page=e},get:function(){return this._page}},{key:"lastPage",get:function(){return this._lastPage}}]),e}(),j=(n(75),function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={search:""},e.handleChange=function(t){var n=t.target;e.setState({search:n.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.search)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.search;return Object(a.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange,value:e})]})}}]),n}(i.Component));j.defaultProps={};var x=j,v=(n(76),function(e){var t=e.onSubmit;return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsx)(x,{onSubmit:t})})}),O=n(15),y=n(31),k=(n(77),function(e){var t=e.tags,n=e.largeImageURL,i=e.webformatURL,r=e.onImageClick,o={alt:t,imgSrc:n};return Object(a.jsx)("li",{className:"ImageGalleryItem",children:Object(a.jsx)("img",{src:i,alt:t,className:"ImageGalleryItem-image",onClick:function(){return r(o)}})})});k.defaultProps={webformatURL:"/goit-react-hw-03-image-finder/img/notFound.png",largeImageURL:"/goit-react-hw-03-image-finder/img/notFound.png",tags:"Sorry, Image not found"};var w=k,S=(n(78),function(e){var t=e.images,n=e.onImageClick;return Object(a.jsx)("ul",{className:"ImageGallery",children:t.map((function(e,t){var i=e.id,r=Object(y.a)(e,["id"]);return Object(a.jsx)(w,Object(O.a)(Object(O.a)({},r),{},{onImageClick:n}),i+t)}))})}),I=(n(79),function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClose;return Object(a.jsx)("div",{className:"Overlay",onClick:n,children:Object(a.jsx)("div",{className:"Modal",children:t})})}}]),n}(i.Component)),C=n(8),L=n(9);function P(){var e=Object(C.a)(["\n    width: 290px;\n    padding: 15px 15px;\n    margin: 0 auto;\n\n    @media sreen and (min-width: 450px){\n        width: 450px;\n    }\n\n    @media sreen and (min-width: 768px){\n        width: 768px;\n    }\n\n    @media sreen and (min-width: 1200px){\n        width: 1200px;\n    }\n"]);return P=function(){return e},e}var _=L.a.div(P()),F=function(e){var t=e.children;return Object(a.jsx)(_,{children:t})};function M(){var e=Object(C.a)(["\n    padding: 8px 16px;\n    border-radius: 5px;\n    background-color: #3f51b5;\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    text-align: center;\n    display: inline-block;\n    color: #fff;\n    border: 0;\n    text-decoration: none;\n    cursor: pointer;\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 24px;\n    font-style: normal;\n    font-weight: 500;\n    min-width: 180px;\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n    &:hover, &:focus {\n        background-color: #303f9f;\n    }\n"]);return M=function(){return e},e}var N=L.a.button(M()),U=function(e){var t=e.caption,n=e.handleClick;return Object(a.jsx)(N,{type:"button",onClick:n,children:t})};U.defaultProps={caption:"",handleClick:function(){}};var R=U,D=(n(83),n(84),function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).api=new b,e.state={images:[],isModalOpen:!1,isLoading:!1,isNotLastPage:!0,currentImg:{},err:{}},e.getImages=function(){e.checkForLastPage(),e.setState({isLoading:!0}),e.api.getImages().then((function(t){e.setState((function(e){return{images:[].concat(Object(s.a)(e.images),Object(s.a)(t))}}))})).catch((function(t){console.dir(t),e.setState({errMsg:t.message})})).finally((function(){return e.setState({isLoading:!1})}))},e.onSearchSubmit=function(t){e.setState({images:[]}),e.api.query=t,e.api.resetPages(),e.getImages()},e.onImageClick=function(t){e.setState({currentImg:t}),e.toggleModal()},e.toggleModal=function(){e.setState((function(e){return{isModalOpen:!e.isModalOpen}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getImages()}},{key:"componentDidUpdate",value:function(e,t){t.images!==this.state.images&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"checkForLastPage",value:function(){this.api.page===this.api.lastPage&&this.setState({isNotLastPage:!1})}},{key:"render",value:function(){var e=this.state,t=e.images,n=e.currentImg,i=e.isModalOpen,r=e.isLoading,o=e.isNotLastPage,c=e.errMsg,s=r?Object(a.jsx)(p.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):o&&Object(a.jsx)(R,{caption:"Load More...",handleClick:this.getImages});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(v,{onSubmit:this.onSearchSubmit}),Object(a.jsx)(S,{onImageClick:this.onImageClick,images:t}),Object(a.jsxs)(F,{children:[!!c&&Object(a.jsx)("span",{children:c}),s]}),i&&Object(a.jsx)(I,{onClose:this.toggleModal,children:Object(a.jsx)("img",{src:n.imgSrc,alt:n.alt})})]})}}]),n}(i.Component)),q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(D,{})}),document.getElementById("root")),q()}},[[85,1,2]]]);
//# sourceMappingURL=main.4b953f66.chunk.js.map